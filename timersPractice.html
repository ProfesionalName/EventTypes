<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Timer Practice</title>
    <link rel = "stylesheet" href = "style.css">
    <style>
        .red{
            background-color:red;
        }
        .green{
            background-color:green;
        }
        .blue{
            background-color:blue;
        }
        .orange{
            background-color:orange;
        }
        .yellow{
            background-color:yellow;
        }
    </style>
</head>
<body>
<div class = 'container'>
    <div class = 'content'>
        <div class = "row">
            <button id = 'remove'>Self Remove</button>
        </div>
        <p></p>
        <div class = "row">
            <button id = 'randomColor'>Random Color</button>
            <button id = "stop">Stop Cycling</button>
        </div>
    </div>
</div>
</body>
<script>
    const removeButton = document.getElementById('remove');
    const randomColorButton = document.getElementById('randomColor');
    const content = document.querySelector('.content');
    const colorList = ['red', 'green', 'blue', 'orange', 'yellow'];
    let interval;
    const stopButton = document.getElementById("stop");

    removeButton.addEventListener('click', function(){
        setTimeout(function(){
            removeButton.remove()
        }, 3000)
    })

    randomColorButton.addEventListener('click', function(){
        if(!interval) {
            interval = setInterval(function getColor() {
                removeBGColor()
                let randomNumber = Math.floor(Math.random() * colorList.length)
                let color = colorList[randomNumber]
                content.classList.add(color)
            }, 1000)
        }
    })

    function removeBGColor(){
        content.classList.remove('red');
        content.classList.remove('green');
        content.classList.remove('blue');
        content.classList.remove('orange');
        content.classList.remove('yellow');
    }

    stopButton.addEventListener('click', function(){
        if(interval){
            clearInterval(interval);
            interval = null;
        }
    })
</script>
</html>